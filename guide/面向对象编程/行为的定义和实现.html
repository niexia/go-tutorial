<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>行为的定义和实现 | Golang tutorial</title>
    <meta name="description" content="New programming tutorial">
    <link rel="stylesheet" href="/go-tutorial/assets/style.cac40d77.css">
    <link rel="modulepreload" href="/go-tutorial/assets/Home.a653be5a.js">
    <link rel="modulepreload" href="/go-tutorial/assets/app.22f9f780.js">
    <link rel="modulepreload" href="/go-tutorial/assets/guide_面向对象编程_行为的定义和实现.md.74910db5.lean.js">
    <link rel="modulepreload" href="/go-tutorial/assets/app.22f9f780.js">
    <meta name="twitter:title" content="行为的定义和实现 | Golang tutorial">
    <meta property="og:title" content="行为的定义和实现 | Golang tutorial">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/go-tutorial/" aria-label="Golang tutorial, back to home" data-v-675d8756 data-v-4a583abe><!----> Golang tutorial</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/go-tutorial/guide/" data-v-b8818f8c>开始 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/go-tutorial/admin/" data-v-b8818f8c>Web admin <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/niexia/go-tutorial" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/go-tutorial/guide/" data-v-b8818f8c>开始 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/go-tutorial/admin/" data-v-b8818f8c>Web admin <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/niexia/go-tutorial" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">介绍</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/">Golang 起源</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/Go简介/编写第一个Go程序">Golang 简介</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">基本程序结构</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/基本程序结构/变量、常量以及与其他语言的差异">变量、常量以及与其他语言的差异</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/基本程序结构/数据类型">数据类型</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/基本程序结构/运算符">运算符</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/基本程序结构/条件和循环">条件和循环</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">常见集合</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/常见集合/数组和切片">数组和切片</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/常见集合/map">map</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/常见集合/map和工厂模式">map和工厂模式</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">函数</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/函数/函数一等公民">一等公民</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go-tutorial/guide/函数/可变参数和defer">函数</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="行为的定义和实现" tabindex="-1">行为的定义和实现 <a class="header-anchor" href="#行为的定义和实现" aria-hidden="true">#</a></h1><h2 id="go-是否是面向对象的语言" tabindex="-1">Go 是否是面向对象的语言 <a class="header-anchor" href="#go-是否是面向对象的语言" aria-hidden="true">#</a></h2><blockquote><p>Yes and no. Although Go has types and methods and allows an object-oriented style of programming, there is no type hierarchy. The concept of “interface” in Go provides a different approach that we believe is easy to use and in some ways more general. There are also ways to embed types in other types to provide something analogous—but not identical—to subclassing. Moreover, methods in Go are more general than in C++ or Java: they can be defined for any sort of data, even built-in types such as plain, “unboxed” integers. They are not restricted to structs (classes). Also, the lack of a type hierarchy makes “objects” in Go feel much more lightweight than in languages such as C++ or Java.<br> 是,也不是.虽然Go语言可以通过定义类型和方法来实现面向对象的设计风格,但是Go是实际上并没有继承这一说法.在Go语言中,interface(接口)这个概念以另外一种角度展现了一种更加易用与通用的设计方法.在Go中,我们可以通过组合,也就是将某个类型放入另外的一个类型中来实现类似继承,让该类型提供有共性但不相同的功能.相比起C++和Java,Go提供了更加通用的定义函数的方法,我们可以指定函数的接受对象(receiver),它可以是任意的类型,包括内建类型,在这里没有任何的限制. 同样的,没有了类型继承,使得Go语言在面向对象编程的方面会显得更加轻量化</p></blockquote><h2 id="封装数据和行为" tabindex="-1">封装数据和行为 <a class="header-anchor" href="#封装数据和行为" aria-hidden="true">#</a></h2><h3 id="结构体定义" tabindex="-1">结构体定义 <a class="header-anchor" href="#结构体定义" aria-hidden="true">#</a></h3><div class="language-go"><pre><code><span class="token keyword">type</span> Employee <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  Id    <span class="token builtin">string</span>
  Name  <span class="token builtin">string</span>
  Age   <span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实例创建和初始化" tabindex="-1">实例创建和初始化 <a class="header-anchor" href="#实例创建和初始化" aria-hidden="true">#</a></h3><div class="language-go"><pre><code>e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span> <span class="token comment">// 一一对应</span>
e1 <span class="token operator">:=</span> Employee<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;Mike&quot;</span><span class="token punctuation">,</span> Age<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span>

e2 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Employee<span class="token punctuation">)</span> <span class="token comment">// 注意这里返回的是指针，相当于 := &amp;Employee{}</span>
e2<span class="token punctuation">.</span>Id <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span> <span class="token comment">// 和其他语言的差异：通过实例的指针访问成员不需要使用 -&gt;</span>
e2<span class="token punctuation">.</span>Age <span class="token operator">=</span> <span class="token number">22</span>
e2<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;Rose&quot;</span>
</code></pre></div><p>看个🌰</p><div class="language-go"><pre><code><span class="token keyword">package</span> encaptest

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;testing&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Employee <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Id   <span class="token builtin">string</span>
	Name <span class="token builtin">string</span>
	Age  <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestCreateEmployeeObj</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span>

	e1 <span class="token operator">:=</span> Employee<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;Mike&quot;</span><span class="token punctuation">,</span> Age<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span>

	e2 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Employee<span class="token punctuation">)</span> <span class="token comment">// 返回指针</span>
	e2<span class="token punctuation">.</span>Id <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span>
	e2<span class="token punctuation">.</span>Age <span class="token operator">=</span> <span class="token number">22</span>
	e2<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;Rose&quot;</span>

	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">// {0 Bob 20}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e1<span class="token punctuation">)</span> <span class="token comment">// { Mike 30}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>Id<span class="token punctuation">)</span> <span class="token comment">//</span>

	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e2<span class="token punctuation">)</span> <span class="token comment">// &amp;{2 Rose 22}</span>
	t<span class="token punctuation">.</span><span class="token function">Logf</span><span class="token punctuation">(</span><span class="token string">&quot;e is %T&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token comment">// e is encaptest.Employee</span>
	t<span class="token punctuation">.</span><span class="token function">Logf</span><span class="token punctuation">(</span><span class="token string">&quot;e2 is %T&quot;</span><span class="token punctuation">,</span> e2<span class="token punctuation">)</span> <span class="token comment">// e2 is *encaptest.Employee</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="行为（方法）定义" tabindex="-1">行为（方法）定义 <a class="header-anchor" href="#行为（方法）定义" aria-hidden="true">#</a></h2><p>和其他主要编程语言的差异</p><div class="language-go"><pre><code><span class="token keyword">type</span> Employee <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Id   <span class="token builtin">string</span>
	Name <span class="token builtin">string</span>
	Age  <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token comment">// 下面这种定义方式，定义了一个 Employee 的 String 方法</span>
<span class="token comment">// 在实例的方法被调用时，实例的成员会进行值复制</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s-Name:%s-Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通常情况下应该使用这种定义方式，避免内存拷贝</span>
<span class="token comment">// 定义的是类型的指针</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s/Name:%s/Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>看个🌰</p><div class="language-go"><pre><code><span class="token comment">// 第 1 种</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s-Name:%s-Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestStructOperations</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ID:0-Name:Bob-Age:20</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第 2 种</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s/Name:%s/Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestStructOperations</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ID:0/Name:Bob/Age:20</span>
<span class="token punctuation">}</span>

<span class="token comment">// 对比</span>
<span class="token comment">// 使用第二种方式输出地址一致，没有对象复制产生</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token comment">// 调用时输出</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Address is %x&quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s/Name:%s/Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestStructOperations</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span>
	<span class="token comment">// 调用前输出</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Address is %x\n&quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Address is c0000a43a0</span>
<span class="token comment">// Address is c0000a43a0</span>

<span class="token comment">// 使用第一种方式地址变了，产生复制，开销更大！！！</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>e Employee<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Address is %x&quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ID:%s-Name:%s-Age:%d&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">TestStructOperations</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> Employee<span class="token punctuation">{</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">}</span>
	<span class="token comment">// 调用前输出</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Address is %x\n&quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
	t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Address is c00009a3a0</span>
<span class="token comment">// Address is c00009a3d0 地址变了</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/niexia/go-tutorial/edit/master/docs/guide/面向对象编程/行为的定义和实现.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"e15caf2c\",\"admin_index.md\":\"30ecb2a5\",\"guide_index.md\":\"adec8248\",\"scheduling_design.md\":\"ff28edc5\",\"guide_go简介_编写第一个go程序.md\":\"13cf38ed\",\"guide_函数_函数一等公民.md\":\"1081fd6b\",\"guide_函数_可变参数和defer.md\":\"3ac4a8d2\",\"guide_基本程序结构_变量、常量以及与其他语言的差异.md\":\"757038da\",\"guide_基本程序结构_数据类型.md\":\"8b9742fe\",\"guide_基本程序结构_条件和循环.md\":\"ec71cf61\",\"guide_基本程序结构_运算符.md\":\"1d76b48c\",\"guide_字符串_字符串.md\":\"99c3b905\",\"guide_常见集合_map.md\":\"35366375\",\"guide_常见集合_map和工厂模式.md\":\"67564242\",\"guide_常见集合_数组和切片.md\":\"628a49f8\",\"guide_面向对象编程_接口.md\":\"736d6746\",\"guide_面向对象编程_行为的定义和实现.md\":\"74910db5\"}")</script>
    <script type="module" async src="/go-tutorial/assets/app.22f9f780.js"></script>
  </body>
</html>